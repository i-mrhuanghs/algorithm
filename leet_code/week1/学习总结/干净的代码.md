## 干净的代码:书评

几年前，我第一次听说鲍勃叔叔是在与Obie Fernandez 的一次谈话中，我之前阅读过他的 [Agile Principles, Patterns and Practices in C#](http://www.amazon.co.uk/Principles-Patterns-Practices-Robert-Martin/dp/0131857258/ref=sr_1_2?ie=UTF8&s=books&qid=1221410457&sr=8-2)一书，当时我的同事Alexandre Martins从悉尼 JAOO回来， 对关于“清洁代码”的演讲大加赞赏’他看到我知道这本书出版时我必须买。

我在很多 Martin Fowler 的书中都注意到了一个很好的趋势，Bob 叔叔在开篇中阐述了他 认为这本书最适合阅读的方式。鲍勃叔叔建议，有必要真正让自己沉浸在所呈现的代码 中，才能从本书中获得最大价值，我想我从这种方式阅读本书中获得了更多，而不是像我 经常做的那样只是略读。

我学到的是

```
  对我来说，这本书中最好的想法是在格式化代码时提到的报纸比喻。这描述了让代码读起来像报纸文章一样的想法。在深入阅读越来越多的细节之前，我们应该能够大致了解它是如何在类顶部附近工作的。这可以通过将代码分解成许多小方法来实现。我对报纸比喻的参与程度很奇怪。很早就阅读了它，之后我开始查看所有代码以采用该格式，当它不是时(当显示不那么干净的代码的示例时)，我感到很失望。
```

学习测试- 编写测试以了解第 3 方代码的工作原理的想法 - 是我以前从未遇到过的想法。例如，这里的想法是编写简单的测试来描述您认为 3rd 方库的工作方式。如果发 布了新版本的库，我们可以重新运行它们以检查它是否仍然以相同的方式工作。以 前，我总是编写一次性代码来获得这种理解，但是编写我们以后可以参考的测试是实 现相同目标的更好方法。

将测试代码视为与实际代码一样重要是另一个想法。编写富有表现力的测试是我非常 感兴趣的事情，我的同事Phillip Calcado写过关于领域驱动测试的想法。鲍勃叔叔提 到了一个类似的想法，他将其称为领域特定测试语言 - 一组帮助派生测试 API 的函数 和实用程序。关于保持测试表现力和无杂乱的相同想法也适用。以一句非常真实的引 言结束

```markdown
     如果你让测试腐烂，那么代码也会腐烂
   我想出了如何在更好地理解开闭原则，单一职责原则和法律德米特可以在代码库来遵守。书中使用的示例与我在项目中看到的代码非常相似，因此更容易关联。我发现本书中呈现的上下文使它们更容易理解，因为它是编写干净对象的更大图景的一部分，而不仅仅是以独立的方式解决这些想法。
```

1/2

```markdown
我最喜欢的书中引用之一如下
     高级程序员将系统视为要讲述的故事，而不是要编写的程序这几乎需要一种范式转换，并且使得编写没有表现力的代码变得不可接受。我远不是一名高级程序员，但如果我能写出其他人容易理解的代码，那么我觉得我开始有所作为。我还发现以下陈述揭示了我的假设:经验丰富的开发人员第一次编写这样的代码
```

当我编写函数时，它们会变得又长又复杂......然后我按摩和改进该代码，拆分 函数，更改名称并消除重复......所有这些都保持测试通过。

我真的很喜欢本书最后三章案例研究中使用的方法。提供了代码，确定了它的问题， 提出了一个解决方案(并引用了它的名称)，然后详细说明了实现。它让我想起了 Joshua Kerievsky 的Refactoring to Patterns在其帮助学习的实用方法中所采用的方 法。我发现在阅读案例研究时参考第 17 章“气味和启发式”以准确检查气味/启发式描 述的内容很有用。在描述如何改进代码的段落之后的括号中给出了参考文献(例如 G30)。

总之

这是我读过的最好的关于编写好的代码的书。有好几次，我发现自己希望我能和 Bob 叔叔 在同一个团队中，看着他真正进行代码改进。

对我来说突出的关键思想是保持你的代码简单和富有表现力- 代码应该做你期望它做的事 情，这样当你(或其他任何人)回来阅读时，这可以快速轻松地完成.

我建议在阅读《敏捷原则、模式和实践》之前先阅读这本书，因为我发现本书中用来解释 OO 原则的示例更容易遵循。然后，您可以更详细地了解另一本书中的理论。

```markdown
我在度假的时候读了这本书，并没有真正看任何真正的代码。我认为在做项目的同时阅读这本书可能会更有价值。当我回到代码时，我肯定会经常引用它。
```

关于作者

我是FINBORNE Technology的社区首席开发人员，FINBORNE Technology是一家为资产 管理构建数据平台的金融科技公司。我之前是 Neo4j 的开发人员关系工程师，在那里我与 Amy Hodler合着了O'Reilly Graph Algorithms Book。